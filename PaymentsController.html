<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Payment Options</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">
<div class="bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden">
    <!-- Header -->
    <div class="bg-blue-600 p-6 text-white">
        <h1 class="text-2xl font-bold flex items-center gap-2">
            <i class="fas fa-ticket-alt"></i>
            <span>Complete Your Booking</span>
        </h1>
        <p class="text-blue-100 mt-1">Amount to pay: <span class="font-bold">₹1,850</span></p>
    </div>

    <!-- Payment Options Tabs -->
    <div class="border-b border-gray-200">
        <nav class="flex">
            <button type="button" id="cardTab" class="payment-tab active">
                <i class="fas fa-credit-card mr-2"></i> Card
            </button>
            <button type="button" id="upiTab" class="payment-tab">
                <i class="fas fa-mobile-alt mr-2"></i> UPI
            </button>
            <button type="button" id="cashTab" class="payment-tab">
                <i class="fas fa-money-bill-wave mr-2"></i> Cash
            </button>
        </nav>
    </div>

    <!-- Payment Sections -->
    <div class="p-6 space-y-6">
        <!-- Card Payment (Default Visible) -->
        <div id="cardSection" class="payment-section">
            <form id="cardForm" class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-2">Card Number</label>
                    <div class="relative">
                        <input type="text" placeholder="1234 5678 9012 3456" required
                               class="w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-0 pl-12"
                               maxlength="19">
                        <i class="fas fa-credit-card absolute left-4 top-3.5 text-gray-400"></i>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-700 mb-2">Expiry Date</label>
                        <input type="text" placeholder="MM/YY" required
                               class="w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-0">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">CVV</label>
                        <div class="relative">
                            <input type="text" placeholder="123" required
                                   class="w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-0"
                                   maxlength="3">
                            <i class="fas fa-lock absolute right-4 top-3.5 text-gray-400"></i>
                        </div>
                    </div>
                </div>

                <div>
                    <label class="block text-gray-700 mb-2">Name on Card</label>
                    <input type="text" placeholder="John Doe" required
                           class="w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-0">
                </div>

                <button type="submit"
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-bold text-lg transition-all flex items-center justify-center gap-2">
                    <i class="fas fa-lock"></i>
                    <span>Pay ₹1,850</span>
                </button>
            </form>
        </div>

        <!-- UPI Payment (Hidden by Default) -->
        <div id="upiSection" class="payment-section hidden">
            <form id="upiForm" class="space-y-6 text-center">
                <div class="bg-blue-50 p-4 rounded-lg">
                    <p class="font-medium">Enter your UPI ID to pay</p>
                    <div class="mt-3 relative max-w-xs mx-auto">
                        <input type="text" placeholder="yourname@upi" required
                               class="w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-0">
                    </div>
                </div>

                <div>
                    <p class="text-gray-600 mb-3">Or scan QR code:</p>
                    <div class="bg-white p-4 rounded-lg border border-gray-200 inline-block">
                        <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=upi://pay?pa=traintickets@upi&pn=TicketBooking&am=1850" 
                             alt="UPI QR Code" class="w-40 h-40 mx-auto">
                    </div>
                </div>

                <button type="submit"
                        class="w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg font-bold text-lg transition-all flex items-center justify-center gap-2">
                    <i class="fas fa-mobile-alt"></i>
                    <span>Pay via UPI</span>
                </button>
            </form>
        </div>

        <!-- Cash Payment (Hidden by Default) -->
        <div id="cashSection" class="payment-section hidden">
            <form id="cashForm" class="space-y-6 text-center">
                <div class="bg-green-50 p-6 rounded-lg">
                    <i class="fas fa-money-bill-wave text-4xl text-green-500 mb-3"></i>
                    <h3 class="text-xl font-bold text-gray-800">Pay Cash at Station</h3>
                    <p class="text-gray-600 mt-2">You can pay the amount at any authorized ticket counter</p>
                    
                    <div class="mt-4 bg-white p-4 rounded-lg border border-gray-200 text-left">
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span>Booking ID:</span>
                            <span class="font-medium">BKG-789456</span>
                        </div>
                        <div class="flex justify-between py-2 border-b border-gray-100">
                            <span>Amount:</span>
                            <span class="font-bold text-green-600">₹1,850</span>
                        </div>
                        <div class="flex justify-between py-2">
                            <span>Valid until:</span>
                            <span class="font-medium">24 hours</span>
                        </div>
                    </div>
                </div>

                <button type="submit"
                        class="w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-bold text-lg transition-all flex items-center justify-center gap-2">
                    <i class="fas fa-check-circle"></i>
                    <span>Confirm Cash Payment</span>
                </button>
            </form>
        </div>

        <!-- Payment Providers -->
        <div class="flex items-center justify-center gap-4 flex-wrap">
            <img src="https://logo.clearbit.com/visa.com" alt="Visa" class="h-8 opacity-70">
            <img src="https://logo.clearbit.com/mastercard.com" alt="Mastercard" class="h-8 opacity-70">
            <img src="https://logo.clearbit.com/rupay.com" alt="RuPay" class="h-8 opacity-70">
            <img src="https://logo.clearbit.com/phonepe.com" alt="PhonePe" class="h-8 opacity-70">
            <img src="https://logo.clearbit.com/paytm.com" alt="Paytm" class="h-8 opacity-70">
            <img src="https://logo.clearbit.com/googlepay.com" alt="Google Pay" class="h-8 opacity-70">
        </div>
    </div>

    <!-- Response Message -->
    <div id="paymentResponse" class="px-6 pb-6 text-center hidden">
        <div class="p-4 rounded-lg bg-green-50 text-green-700 flex items-center gap-3">
            <i class="fas fa-check-circle text-xl"></i>
            <div class="text-left">
                <p class="font-bold">Payment Successful!</p>
                <p class="text-sm">Your ticket has been confirmed. Check your email for details.</p>
            </div>
        </div>
        <a href="/user-dashboard.html" class="mt-4 inline-block text-blue-600 hover:text-blue-800 font-medium">
            Go to Dashboard
        </a>
    </div>
</div>

<script>
    // Tab Switching Logic
    const tabs = {
        card: { tab: document.getElementById('cardTab'), section: document.getElementById('cardSection') },
        upi: { tab: document.getElementById('upiTab'), section: document.getElementById('upiSection') },
        cash: { tab: document.getElementById('cashTab'), section: document.getElementById('cashSection') }
    };

    Object.values(tabs).forEach(({tab, section}) => {
        tab.addEventListener('click', () => {
            // Hide all sections and deactivate all tabs
            Object.values(tabs).forEach(({tab: t, section: s}) => {
                s.classList.add('hidden');
                t.classList.remove('active', 'border-blue-600', 'text-blue-600');
                t.classList.add('text-gray-500', 'hover:text-gray-700');
            });
            
            // Show selected section and activate tab
            section.classList.remove('hidden');
            tab.classList.add('active', 'border-blue-600', 'text-blue-600');
            tab.classList.remove('text-gray-500', 'hover:text-gray-700');
        });
    });

    // Form Submission Handling
    document.getElementById('cardForm').addEventListener('submit', handlePayment);
    document.getElementById('upiForm').addEventListener('submit', handlePayment);
    document.getElementById('cashForm').addEventListener('submit', handlePayment);

    function handlePayment(e) {
        e.preventDefault();
        const formId = e.target.id;
        const paymentMethod = formId.replace('Form', '');
        
        // Hide all forms and show success message
        document.getElementById('cardSection').classList.add('hidden');
        document.getElementById('upiSection').classList.add('hidden');
        document.getElementById('cashSection').classList.add('hidden');
        document.getElementById('paymentResponse').classList.remove('hidden');
        
        // Here you would make the actual API call to your backend
        // const response = await fetch('/payment', {
        //     method: 'POST',
        //     headers: { 'Content-Type': 'application/json' },
        //     body: JSON.stringify({
        //         method: paymentMethod,
        //         amount: 1850,
        //         bookingId: 'BKG-789456'
        //         // Include other payment-specific data
        //     })
        // });
    }

    // Format card number input
    document.querySelector('input[placeholder="1234 5678 9012 3456"]').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\s+/g, '');
        if (value.length > 0) {
            value = value.match(new RegExp('.{1,4}', 'g')).join(' ');
        }
        e.target.value = value;
    });
</script>

<style>
    .payment-tab {
        @apply flex-1 py-4 px-1 text-center border-b-2 font-medium text-sm;
        @apply text-gray-500 hover:text-gray-700 border-transparent;
    }
    .payment-tab.active {
        @apply border-blue-600 text-blue-600;
    }
    .payment-section {
        @apply transition-all duration-300;
    }
</style>
</body>
</html>
